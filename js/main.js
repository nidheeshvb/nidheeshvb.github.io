(()=>{gsap.registerPlugin(ScrollTrigger);var e=null,t=1200;function i(){return window.innerWidth>=t}function o(){e&&(e.kill(),e=null),ScrollTrigger.getAll().forEach((function(e){e.vars&&".section-wrapper"===e.vars.trigger&&e.kill()}))}function n(){if(i()){var e=document.querySelector("#infoGrid"),t=document.querySelector(".stage");if(e&&t){var o=window.getComputedStyle(e),n="0"!==o.opacity&&"hidden"!==o.visibility,r=e.style.opacity,a=e.style.visibility,s=e.style.pointerEvents;e.style.opacity="1",e.style.visibility="visible",e.style.pointerEvents="auto",e.style.transform="translateX(0)",e.offsetHeight;var l=e.offsetHeight,c=document.querySelector("#visualContainer"),d=c?c.offsetHeight:790,u=Math.max(l,d)+100;t.style.minHeight="".concat(u,"px"),n?(e.style.opacity="1",e.style.visibility="visible",e.style.pointerEvents="auto",e.style.transform=""):(e.style.opacity=r||"0",e.style.visibility=a||"visible",e.style.pointerEvents=s||"none",e.style.transform=r?"":"translateX(-50px)")}}}function r(){if(i()){o(),gsap.set(".circle",{scale:.5}),gsap.set("#mainCard",{opacity:1,y:500,scale:1,visibility:"hidden"}),gsap.set("#secondCard",{opacity:0,visibility:"hidden"}),gsap.set("#applyBtn",{opacity:0,y:50}),gsap.set("#visualContainer",{left:"50%",xPercent:-50}),gsap.set("#infoGrid",{opacity:0,visibility:"visible",x:-50,pointerEvents:"none"}),n();var t=document.querySelector("#infoGrid"),r=document.querySelector(".stage"),a="+=350%",s=0;if(t&&r){var l=window.getComputedStyle(t),c="0"!==l.opacity&&"hidden"!==l.visibility;c||(t.style.opacity="1",t.style.visibility="visible",t.style.transform="translateX(0)"),t.offsetHeight;var d=t.scrollHeight,u=t.clientHeight,y=window.innerHeight;s=Math.max(0,d-u),a="+=".concat(350+(s>0?s/y*100:0),"%"),c||(t.style.opacity="0",t.style.visibility="visible",t.style.transform="translateX(-50px)")}(e=gsap.timeline({scrollTrigger:{trigger:".section-wrapper",start:"top top",end:a,scrub:1,pin:!0,pinSpacing:!0,anticipatePin:1,onLeave:function(){},onUpdate:function(e){if(s>0&&e.progress>.75){var t=(e.progress-.75)/.25,i=document.querySelector("#infoGrid");i&&(i.scrollTop=s*Math.min(1,t))}}}})).to(".circle",{scale:1,duration:1.2,stagger:.15,ease:"power4.out"},1),e.to("#mainCard",{y:0,visibility:"visible",duration:2,ease:"power3.out"},2),e.to("#applyBtn",{opacity:1,y:0,duration:1.5,ease:"power3.out"},3),e.to("#visualContainer",{left:"80%",xPercent:-50,duration:1.5,ease:"power4.inOut"},3.5),e.to(".circle",{scale:1,duration:.5,stagger:.05,ease:"power4.out"},4.2),e.to("#secondCard",{opacity:1,visibility:"visible",duration:2,ease:"power3.out"},4.5),e.to("#infoGrid",{opacity:1,visibility:"visible",x:0,duration:1,ease:"power2.out",pointerEvents:"auto",onComplete:function(){n(),ScrollTrigger.refresh()}},4.2),e.to(".circle",{scale:.75,duration:.5,stagger:.05,ease:"power4.out"},4.7),e.to(".circle",{scale:1,duration:.5,stagger:.05,ease:"power4.out"},4.8)}else o()}window.addEventListener("load",(function(){var e;r(),(e=document.querySelector("#infoGrid"))&&e.addEventListener("wheel",(function(e){e.preventDefault(),window.scrollBy(0,e.deltaY)}),{passive:!1}),function(){var e=document.querySelector("#bottomNavDropdown"),t=document.querySelector("#bottomNavLinks"),o=document.querySelector(".dropdown-text"),n=t?t.querySelectorAll("a"):[];function r(){e.classList.remove("active"),e.setAttribute("aria-expanded","false"),t.classList.remove("active")}e&&t&&(e.addEventListener("click",(function(i){i.stopPropagation(),e.classList.contains("active")?r():(e.classList.add("active"),e.setAttribute("aria-expanded","true"),t.classList.add("active"))})),n.forEach((function(e){e.addEventListener("click",(function(t){var i=e.textContent.trim();o&&(o.textContent=i),r()}))})),document.addEventListener("click",(function(i){e&&t&&!e.contains(i.target)&&!t.contains(i.target)&&r()})),window.addEventListener("resize",(function(){i()&&r()})))}()}));var a,s,l=(a=function(){r(),ScrollTrigger.refresh()},function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];clearTimeout(s),s=setTimeout((function(){clearTimeout(s),a.apply(void 0,t)}),250)});window.addEventListener("resize",l)})();