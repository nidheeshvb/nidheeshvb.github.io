(()=>{"use strict";const e="tabs";function t(t){var n=document.querySelectorAll('[role="tab"]');if(n&&0!==n.length){var a=t.target;if(a){var r=a.closest(".".concat(e));if(r){var i=r.querySelectorAll('[aria-selected="true"]');i&&i.forEach((function(e){e&&e.setAttribute("aria-selected","false")})),a.setAttribute("aria-selected","true");var o=r.querySelectorAll('[role="tabpanel"]');o&&o.forEach((function(e){e&&e.setAttribute("aria-hidden","true")}));var d=a.getAttribute("aria-controls");if(d){var c=r.querySelector("#".concat(d));c&&c.setAttribute("aria-hidden","false")}a.focus(),n.forEach((function(e){e&&("true"===e.getAttribute("aria-selected")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}))}}}}function n(e){var t=document.querySelectorAll('[role="tab"]');if(t&&0!==t.length){var n=Array.from(t).indexOf(document.activeElement);if(-1!==n){if(37===e.keyCode||39===e.keyCode||36===e.keyCode||35===e.keyCode){var a=t[n];a&&a.setAttribute("tabindex","-1")}39===e.keyCode?++n>=t.length&&(n=0):37===e.keyCode?--n<0&&(n=t.length-1):36===e.keyCode?n=0:35===e.keyCode&&(n=t.length-1);var r=t[n];r&&(r.setAttribute("tabindex","0"),r.focus())}}}document.addEventListener("DOMContentLoaded",(function(){var e;(e=document.querySelectorAll('[role="tab"]'))&&0!==e.length&&e.forEach((function(e){e&&(e.addEventListener("click",t),e.addEventListener("keydown",n))})),function(){var e=document.querySelector(".header"),t=(document.getElementById("top-bar"),document.getElementById("header-overlay")),n=document.querySelectorAll(".header__menu-btn"),a=document.querySelectorAll(".header__submenu, .header__megamenu");function r(){var e=document.querySelector(".megamenu__nav");if(e){var t=e.querySelectorAll('[role="tab"]'),n=document.querySelectorAll(".megamenu__tab-panel");t.forEach((function(e){e&&(e.addEventListener("click",(function(){return r(e)})),e.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),r(e))})))}));var a=t[0];a&&r(a)}function r(e){if(e){var a=e.getAttribute("aria-controls");if(a){t.forEach((function(e){e&&(e.setAttribute("aria-selected","false"),e.classList.remove("megamenu__nav-link--active"))})),e.setAttribute("aria-selected","true"),e.classList.add("megamenu__nav-link--active"),n.forEach((function(e){e&&(e.setAttribute("aria-hidden","true"),e.hidden=!0)}));var r=document.getElementById(a);r&&(r.setAttribute("aria-hidden","false"),r.hidden=!1)}}}}r(),window.addEventListener("scroll",(function(){if(e)if(window.scrollY>80){e.classList.add("is-sticky"),t&&t.setAttribute("aria-hidden","false");var n=document.querySelector(".header__mobile-topbar");n&&window.innerWidth<=991&&(n.style.display="none")}else{e.classList.remove("is-sticky"),t&&t.setAttribute("aria-hidden","true");var a=document.querySelector(".header__mobile-topbar");a&&window.innerWidth<=991&&(a.style.display="")}})),window.addEventListener("resize",(function(){var t=document.querySelector(".header__mobile-topbar");t&&(window.innerWidth>991?t.style.display="":null!=e&&e.classList.contains("is-sticky")?t.style.display="none":t.style.display="")}));var i=null;function o(){n.forEach((function(e){if(e){e.setAttribute("aria-expanded","false"),e.classList.remove("active");var t=e.getAttribute("aria-controls");if(t){var n=document.getElementById(t);n&&n.setAttribute("data-open","false");var a=e.closest(".header__menu-item");a&&a.classList.remove("active")}}})),document.body.classList.remove("menu-open"),i=null}function d(e){if(e){o(),e.setAttribute("aria-expanded","true"),e.classList.add("active");var t=e.getAttribute("aria-controls");if(t){var n=document.getElementById(t);if(n){n.setAttribute("data-open","true");var a=e.closest(".header__menu-item");a&&a.classList.add("active"),document.body.classList.add("menu-open"),r()}i=e}}}function c(e){if(i){var t=i.getAttribute("aria-controls");if(t){var n=document.getElementById(t);if(n){var a=n.querySelectorAll("a, button, [tabindex='0']");if(a.length){var r=a[0],o=a[a.length-1];"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(o.focus(),e.preventDefault()):document.activeElement===o&&(r.focus(),e.preventDefault()))}}}}}n.forEach((function(e){e&&(e.addEventListener("click",(function(t){"true"===e.getAttribute("aria-expanded")?o():d(e),t.stopPropagation()})),e.addEventListener("keydown",(function(t){"ArrowDown"!==t.key&&"Enter"!==t.key&&" "!==t.key||(d(e),t.preventDefault()),"Escape"===t.key&&(o(),e.focus())})))})),a.forEach((function(e){e&&e.addEventListener("keydown",(function(t){var n=Array.from(e.querySelectorAll("a, button, [tabindex='0']")),a=n.indexOf(document.activeElement);if("ArrowDown"===t.key){var r=n[(a+1)%n.length];r&&r.focus(),t.preventDefault()}if("ArrowUp"===t.key){var d=n[(a-1+n.length)%n.length];d&&d.focus(),t.preventDefault()}"Escape"===t.key&&(o(),i&&i.focus())}))})),document.addEventListener("mousedown",(function(t){e&&!e.contains(t.target)&&o()})),document.addEventListener("focusin",(function(t){e&&!e.contains(t.target)&&o()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&o()})),a.forEach((function(e){e&&e.addEventListener("keydown",c)}));var u=document.querySelector(".header__top-lang");u&&u.addEventListener("click",(function(e){var t=this.nextElementSibling;if(t){var n="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!n),t.hidden=n}})),document.addEventListener("click",(function(e){var t=document.querySelector(".header__top-lang-dropdown");if(t&&!t.contains(e.target)){var n=document.querySelector(".header__top-lang-list"),a=document.querySelector(".header__top-lang");n&&(n.hidden=!0),a&&a.setAttribute("aria-expanded",!1)}}));var l=document.getElementById("mobile-menu-btn"),s=document.getElementById("mobile-search-btn"),f=document.getElementById("mobile-menu-overlay"),m=document.getElementById("mobile-search-overlay"),v=[f,m].filter(Boolean);function y(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}function b(e,t){if(e&&"mobile-lang-btn"!==e.id){var n=e.querySelector("img");n&&("close"===t?(n.src="../images/close.svg",n.alt="close",e.setAttribute("aria-label","Close")):"menu"===t?(n.src="../images/three-dots-vertical.svg",n.alt="",e.setAttribute("aria-label","Open menu")):"search"===t?(n.src="../images/search.svg",n.alt="",e.setAttribute("aria-label","Open search")):"lang"===t&&(n.src="../images/globe.svg",n.alt="",e.setAttribute("aria-label","Change language")))}}function h(){v.forEach((function(e){e&&(e.hidden=!0,e.setAttribute("aria-hidden","true"),e._trapFocus&&e.removeEventListener("keydown",e._trapFocus),e._escClose&&e.removeEventListener("keydown",e._escClose),e.querySelectorAll("a, button, input").forEach((function(e){"BUTTON"===e.tagName&&e.classList.contains("header__mobile-close")||e.setAttribute("tabindex","-1")})))})),l&&b(l,"menu"),s&&b(s,"search"),g&&b(g,"lang"),g&&g.setAttribute("aria-expanded","false"),y(!1)}l&&f&&l.addEventListener("click",(function(){!1===f.hidden?(f.hidden=!0,b(l,"menu")):(h(),f.hidden=!1,b(l,"close"),L(),f.focus())})),s&&m&&s.addEventListener("click",(function(){!1===m.hidden?(m.hidden=!0,b(s,"search")):(h(),m.hidden=!1,b(s,"close"),L(),m.focus())}));var g=document.getElementById("mobile-lang-btn"),E=document.getElementById("mobile-lang-list");function h(){f&&(f.hidden=!0),m&&(m.hidden=!0),E&&(E.hidden=!0),l&&b(l,"menu"),s&&b(s,"search"),g&&b(g,"lang"),g&&g.setAttribute("aria-expanded","false"),y(!1)}g&&E&&(g.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),E.hidden=t,e.stopPropagation()})),document.addEventListener("mousedown",(function(e){g.contains(e.target)||E.contains(e.target)||(g.setAttribute("aria-expanded","false"),E.hidden=!0)})),document.addEventListener("focusin",(function(e){g.contains(e.target)||E.contains(e.target)||(g.setAttribute("aria-expanded","false"),E.hidden=!0)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(g.setAttribute("aria-expanded","false"),E.hidden=!0,g.focus())}))),document.addEventListener("mousedown",(function(e){null!=l&&l.contains(e.target)||null!=f&&f.contains(e.target)||null!=s&&s.contains(e.target)||null!=m&&m.contains(e.target)||null!=g&&g.contains(e.target)||null!=E&&E.contains(e.target)||h()})),document.addEventListener("focusin",(function(e){null!=l&&l.contains(e.target)||null!=f&&f.contains(e.target)||null!=s&&s.contains(e.target)||null!=m&&m.contains(e.target)||null!=g&&g.contains(e.target)||null!=E&&E.contains(e.target)||h()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&h()})),document.querySelectorAll(".mobile-nav-section").forEach((function(e){e&&(e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded");if(document.querySelectorAll(".mobile-nav-section").forEach((function(e){if(e){e.setAttribute("aria-expanded","false");var t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.hidden=!0)}})),!e){this.setAttribute("aria-expanded","true");var t=document.getElementById(this.getAttribute("aria-controls"));t&&(t.hidden=!1)}})),e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"Escape"===e.key&&(h(),l&&l.focus())})))})),document.querySelectorAll(".mobile-nav-panel[hidden] a").forEach((function(e){return e&&e.setAttribute("tabindex","-1")})),document.querySelectorAll(".mobile-nav-panel").forEach((function(e){e&&new MutationObserver((function(){e.hidden?e.querySelectorAll("a").forEach((function(e){return e&&e.setAttribute("tabindex","-1")})):e.querySelectorAll("a").forEach((function(e){return e&&e.removeAttribute("tabindex")}))})).observe(e,{attributes:!0,attributeFilter:["hidden"]})}));var A=document.getElementById("mobile-client-btn"),p=document.getElementById("mobile-client-list");if(A&&p){A.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),p.hidden=t;var n=this.querySelector(".header__mobile-client-arrow");n&&(n.style.transform=t?"rotate(0deg)":"rotate(180deg)"),e.stopPropagation()})),A.addEventListener("keydown",(function(e){if("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"ArrowDown"===e.key&&(e.preventDefault(),!p.hidden)){var t=p.querySelector("button[role='option']");t&&t.focus()}"Escape"===e.key&&(this.setAttribute("aria-expanded",!1),p.hidden=!0,this.focus())}));var k=p.querySelectorAll("button[role='option']");k.forEach((function(e,t){e&&(e.addEventListener("keydown",(function(e){"ArrowDown"===e.key&&(e.preventDefault(),t<k.length-1?k[t+1].focus():k[0].focus()),"ArrowUp"===e.key&&(e.preventDefault(),t>0?k[t-1].focus():k[k.length-1].focus()),"Escape"===e.key&&(A.setAttribute("aria-expanded",!1),p.hidden=!0,A.focus())})),e.addEventListener("click",(function(){A.setAttribute("aria-expanded",!1),p.hidden=!0,A.focus()})))})),document.addEventListener("mousedown",(function(e){if(!A.contains(e.target)&&!p.contains(e.target)){A.setAttribute("aria-expanded",!1),p.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("focusin",(function(e){if(!A.contains(e.target)&&!p.contains(e.target)){A.setAttribute("aria-expanded",!1),p.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("keydown",(function(e){if("Escape"===e.key){A.setAttribute("aria-expanded",!1),p.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}}))}function L(){var e=document.querySelector(".header__mobile"),t=document.querySelectorAll(".header__mobile-overlay");if(e&&t.length){var n=e.getBoundingClientRect().height;t.forEach((function(e){if(e){e.style.top=n+"px";var t=e.querySelector(".mobile-nav");if(t){var a=window.innerHeight;t.style.height="".concat(a-n,"px")}}}))}}window.addEventListener("resize",L),window.addEventListener("scroll",L),document.addEventListener("DOMContentLoaded",L),window.addEventListener("scroll",(function(){L()}))}()}))})();