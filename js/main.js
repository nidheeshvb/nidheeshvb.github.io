(()=>{"use strict";const e="tabs";function t(t){var n=document.querySelectorAll('[role="tab"]'),r=t.target,a=r.closest(".".concat(e));a.querySelectorAll('[aria-selected="true"]').forEach((function(e){return e.setAttribute("aria-selected","false")})),r.setAttribute("aria-selected","true"),a.querySelectorAll('[role="tabpanel"]').forEach((function(e){return e.setAttribute("aria-hidden","true")}));var i=r.getAttribute("aria-controls");a.querySelector("#".concat(i)).setAttribute("aria-hidden","false"),r.focus(),n.forEach((function(e){"true"===e.getAttribute("aria-selected")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")}))}function n(e){var t=document.querySelectorAll('[role="tab"]'),n=Array.from(t).indexOf(document.activeElement);37!==e.keyCode&&39!==e.keyCode&&36!==e.keyCode&&35!==e.keyCode||t[n].setAttribute("tabindex","-1"),39===e.keyCode?++n>=t.length&&(n=0):37===e.keyCode?--n<0&&(n=t.length-1):36===e.keyCode?n=0:35===e.keyCode&&(n=t.length-1),t[n].setAttribute("tabindex","0"),t[n].focus()}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[role="tab"]').forEach((function(e){e.addEventListener("click",t),e.addEventListener("keydown",n)})),function(){var e=document.querySelector(".header"),t=(document.getElementById("top-bar"),document.getElementById("header-overlay")),n=document.querySelectorAll(".header__menu-btn"),r=document.querySelectorAll(".header__submenu, .header__megamenu");function a(){var e=document.querySelector(".megamenu__nav");if(e){var t=e.querySelectorAll('[role="tab"]'),n=document.querySelectorAll(".megamenu__tab-panel");t.forEach((function(e){e.addEventListener("click",(function(){return a(e)})),e.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),a(e))}))}));var r=t[0];r&&a(r)}function a(e){var r=e.getAttribute("aria-controls");t.forEach((function(e){e.setAttribute("aria-selected","false"),e.classList.remove("megamenu__nav-link--active")})),e.setAttribute("aria-selected","true"),e.classList.add("megamenu__nav-link--active"),n.forEach((function(e){e.setAttribute("aria-hidden","true"),e.hidden=!0}));var a=document.getElementById(r);a&&(a.setAttribute("aria-hidden","false"),a.hidden=!1)}}a(),window.addEventListener("scroll",(function(){if(window.scrollY>80){e.classList.add("is-sticky"),t.setAttribute("aria-hidden","false");var n=document.querySelector(".header__mobile-topbar");n&&window.innerWidth<=991&&(n.style.display="none")}else{e.classList.remove("is-sticky"),t.setAttribute("aria-hidden","true");var r=document.querySelector(".header__mobile-topbar");r&&window.innerWidth<=991&&(r.style.display="")}})),window.addEventListener("resize",(function(){var t=document.querySelector(".header__mobile-topbar");t&&(window.innerWidth>991?t.style.display="":e.classList.contains("is-sticky")?t.style.display="none":t.style.display="")}));var i=null;function o(){n.forEach((function(e){e.setAttribute("aria-expanded","false"),e.classList.remove("active");var t=e.getAttribute("aria-controls"),n=document.getElementById(t);n&&n.setAttribute("data-open","false");var r=e.closest(".header__menu-item");r&&r.classList.remove("active")})),document.body.classList.remove("menu-open"),i=null}function d(e){o(),e.setAttribute("aria-expanded","true"),e.classList.add("active");var t=e.getAttribute("aria-controls"),n=document.getElementById(t);if(n){n.setAttribute("data-open","true");var r=e.closest(".header__menu-item");r&&r.classList.add("active"),document.body.classList.add("menu-open"),a()}i=e}function c(e){if(i){var t=i.getAttribute("aria-controls"),n=document.getElementById(t);if(n){var r=n.querySelectorAll("a, button, [tabindex='0']");if(r.length){var a=r[0],o=r[r.length-1];"Tab"===e.key&&(e.shiftKey?document.activeElement===a&&(o.focus(),e.preventDefault()):document.activeElement===o&&(a.focus(),e.preventDefault()))}}}}n.forEach((function(e){e.addEventListener("click",(function(t){"true"===e.getAttribute("aria-expanded")?o():d(e),t.stopPropagation()})),e.addEventListener("keydown",(function(t){"ArrowDown"!==t.key&&"Enter"!==t.key&&" "!==t.key||(d(e),t.preventDefault()),"Escape"===t.key&&(o(),e.focus())}))})),r.forEach((function(e){e.addEventListener("keydown",(function(t){var n=Array.from(e.querySelectorAll("a, button, [tabindex='0']")),r=n.indexOf(document.activeElement);if("ArrowDown"===t.key){var a=n[(r+1)%n.length];a&&a.focus(),t.preventDefault()}if("ArrowUp"===t.key){var d=n[(r-1+n.length)%n.length];d&&d.focus(),t.preventDefault()}"Escape"===t.key&&(o(),i&&i.focus())}))})),document.addEventListener("mousedown",(function(t){e.contains(t.target)||o()})),document.addEventListener("focusin",(function(t){e.contains(t.target)||o()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&o()})),r.forEach((function(e){e.addEventListener("keydown",c)})),document.querySelector(".header__top-lang").addEventListener("click",(function(e){var t=this.nextElementSibling,n="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!n),t.hidden=n})),document.addEventListener("click",(function(e){document.querySelector(".header__top-lang-dropdown").contains(e.target)||(document.querySelector(".header__top-lang-list").hidden=!0,document.querySelector(".header__top-lang").setAttribute("aria-expanded",!1))}));var s=document.getElementById("mobile-menu-btn"),u=document.getElementById("mobile-search-btn"),l=document.getElementById("mobile-menu-overlay"),f=document.getElementById("mobile-search-overlay"),m=[l,f];function v(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}function y(e,t){if(e&&"mobile-lang-btn"!==e.id){var n=e.querySelector("img");n&&("close"===t?(n.src="../images/close.svg",n.alt="close",e.setAttribute("aria-label","Close")):"menu"===t?(n.src="../images/three-dots-vertical.svg",n.alt="",e.setAttribute("aria-label","Open menu")):"search"===t?(n.src="../images/search.svg",n.alt="",e.setAttribute("aria-label","Open search")):"lang"===t&&(n.src="../images/globe.svg",n.alt="",e.setAttribute("aria-label","Change language")))}}function b(){m.forEach((function(e){e&&(e.hidden=!0,e.setAttribute("aria-hidden","true"),e._trapFocus&&e.removeEventListener("keydown",e._trapFocus),e._escClose&&e.removeEventListener("keydown",e._escClose),e.querySelectorAll("a, button, input").forEach((function(e){"BUTTON"===e.tagName&&e.classList.contains("header__mobile-close")||e.setAttribute("tabindex","-1")})))})),s&&y(s,"menu"),u&&y(u,"search"),h&&y(h,"lang"),h&&h.setAttribute("aria-expanded","false"),v(!1)}s&&l&&s.addEventListener("click",(function(){!1===l.hidden?(l.hidden=!0,y(s,"menu")):(b(),l.hidden=!1,y(s,"close"),k(),l.focus())})),u&&f&&u.addEventListener("click",(function(){!1===f.hidden?(f.hidden=!0,y(u,"search")):(b(),f.hidden=!1,y(u,"close"),k(),f.focus())}));var h=document.getElementById("mobile-lang-btn"),g=document.getElementById("mobile-lang-list");function b(){l&&(l.hidden=!0),f&&(f.hidden=!0),g&&(g.hidden=!0),s&&y(s,"menu"),u&&y(u,"search"),h&&y(h,"lang"),h&&h.setAttribute("aria-expanded","false"),v(!1)}h&&g&&(h.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),g.hidden=t,e.stopPropagation()})),document.addEventListener("mousedown",(function(e){h.contains(e.target)||g.contains(e.target)||(h.setAttribute("aria-expanded","false"),g.hidden=!0)})),document.addEventListener("focusin",(function(e){h.contains(e.target)||g.contains(e.target)||(h.setAttribute("aria-expanded","false"),g.hidden=!0)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(h.setAttribute("aria-expanded","false"),g.hidden=!0,h.focus())}))),document.addEventListener("mousedown",(function(e){s.contains(e.target)||l.contains(e.target)||u.contains(e.target)||f.contains(e.target)||h.contains(e.target)||g.contains(e.target)||b()})),document.addEventListener("focusin",(function(e){s.contains(e.target)||l.contains(e.target)||u.contains(e.target)||f.contains(e.target)||h.contains(e.target)||g.contains(e.target)||b()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&b()})),document.querySelectorAll(".mobile-nav-section").forEach((function(e){e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded");if(document.querySelectorAll(".mobile-nav-section").forEach((function(e){e.setAttribute("aria-expanded","false");var t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.hidden=!0)})),!e){this.setAttribute("aria-expanded","true");var t=document.getElementById(this.getAttribute("aria-controls"));t&&(t.hidden=!1)}})),e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"Escape"===e.key&&(b(),s&&s.focus())}))})),document.querySelectorAll(".mobile-nav-panel[hidden] a").forEach((function(e){return e.setAttribute("tabindex","-1")})),document.querySelectorAll(".mobile-nav-panel").forEach((function(e){new MutationObserver((function(){e.hidden?e.querySelectorAll("a").forEach((function(e){return e.setAttribute("tabindex","-1")})):e.querySelectorAll("a").forEach((function(e){return e.removeAttribute("tabindex")}))})).observe(e,{attributes:!0,attributeFilter:["hidden"]})}));var E=document.getElementById("mobile-client-btn"),A=document.getElementById("mobile-client-list");if(E&&A){E.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),A.hidden=t;var n=this.querySelector(".header__mobile-client-arrow");n&&(n.style.transform=t?"rotate(0deg)":"rotate(180deg)"),e.stopPropagation()})),E.addEventListener("keydown",(function(e){if("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"ArrowDown"===e.key&&(e.preventDefault(),!A.hidden)){var t=A.querySelector("button[role='option']");t&&t.focus()}"Escape"===e.key&&(this.setAttribute("aria-expanded",!1),A.hidden=!0,this.focus())}));var p=A.querySelectorAll("button[role='option']");p.forEach((function(e,t){e.addEventListener("keydown",(function(e){"ArrowDown"===e.key&&(e.preventDefault(),t<p.length-1?p[t+1].focus():p[0].focus()),"ArrowUp"===e.key&&(e.preventDefault(),t>0?p[t-1].focus():p[p.length-1].focus()),"Escape"===e.key&&(E.setAttribute("aria-expanded",!1),A.hidden=!0,E.focus())})),e.addEventListener("click",(function(){E.setAttribute("aria-expanded",!1),A.hidden=!0,E.focus()}))})),document.addEventListener("mousedown",(function(e){if(!E.contains(e.target)&&!A.contains(e.target)){E.setAttribute("aria-expanded",!1),A.hidden=!0;var t=E.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("focusin",(function(e){if(!E.contains(e.target)&&!A.contains(e.target)){E.setAttribute("aria-expanded",!1),A.hidden=!0;var t=E.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("keydown",(function(e){if("Escape"===e.key){E.setAttribute("aria-expanded",!1),A.hidden=!0;var t=E.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}}))}function k(){var e=document.querySelector(".header__mobile"),t=document.querySelectorAll(".header__mobile-overlay");if(e&&t.length){var n=e.getBoundingClientRect().height;t.forEach((function(e){e.style.top=n+"px";var t=e.querySelector(".mobile-nav");if(t){var r=window.innerHeight;t.style.height="".concat(r-n,"px")}}))}}window.addEventListener("resize",k),window.addEventListener("scroll",k),document.addEventListener("DOMContentLoaded",k),window.addEventListener("scroll",(function(){k()}))}()}))})();