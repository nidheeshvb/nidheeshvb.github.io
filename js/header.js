(()=>{"use strict";const e="tabs";function t(t){var n=document.querySelectorAll('[role="tab"]');if(n&&0!==n.length){var r=t.target;if(r){var a=r.closest(".".concat(e));if(a){var i=a.querySelectorAll('[aria-selected="true"]');i&&i.forEach((function(e){e&&e.setAttribute("aria-selected","false")})),r.setAttribute("aria-selected","true");var o=a.querySelectorAll('[role="tabpanel"]');o&&o.forEach((function(e){e&&e.setAttribute("aria-hidden","true")}));var d=r.getAttribute("aria-controls");if(d){var c=a.querySelector("#".concat(d));c&&c.setAttribute("aria-hidden","false")}r.focus(),n.forEach((function(e){e&&("true"===e.getAttribute("aria-selected")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}))}}}}function n(e){var t=document.querySelectorAll('[role="tab"]');if(t&&0!==t.length){var n=Array.from(t).indexOf(document.activeElement);if(-1!==n){if(37===e.keyCode||39===e.keyCode||36===e.keyCode||35===e.keyCode){var r=t[n];r&&r.setAttribute("tabindex","-1")}39===e.keyCode?++n>=t.length&&(n=0):37===e.keyCode?--n<0&&(n=t.length-1):36===e.keyCode?n=0:35===e.keyCode&&(n=t.length-1);var a=t[n];a&&(a.setAttribute("tabindex","0"),a.focus())}}}document.addEventListener("DOMContentLoaded",(function(){var e;(e=document.querySelectorAll('[role="tab"]'))&&0!==e.length&&e.forEach((function(e){e&&(e.addEventListener("click",t),e.addEventListener("keydown",n))})),function(){var e=document.querySelector(".header"),t=(document.getElementById("top-bar"),document.getElementById("header-overlay")),n=document.querySelectorAll(".header__menu-btn"),r=document.querySelectorAll(".header__submenu, .header__megamenu");function a(){var e=document.querySelector(".megamenu__nav");if(e){var t=e.querySelectorAll('[role="tab"]'),n=document.querySelectorAll(".megamenu__tab-panel");t.forEach((function(e){e&&(e.addEventListener("click",(function(){return a(e)})),e.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),a(e))})))}));var r=t[0];r&&a(r)}function a(e){if(e){var r=e.getAttribute("aria-controls");if(r){t.forEach((function(e){e&&(e.setAttribute("aria-selected","false"),e.classList.remove("megamenu__nav-link--active"))})),e.setAttribute("aria-selected","true"),e.classList.add("megamenu__nav-link--active"),n.forEach((function(e){e&&(e.setAttribute("aria-hidden","true"),e.hidden=!0)}));var a=document.getElementById(r);a&&(a.setAttribute("aria-hidden","false"),a.hidden=!1)}}}}a(),window.addEventListener("scroll",(function(){if(e)if(window.scrollY>80){e.classList.add("is-sticky"),t&&t.setAttribute("aria-hidden","false");var n=document.querySelector(".header__mobile-topbar");n&&window.innerWidth<=991&&(n.style.display="none")}else{e.classList.remove("is-sticky"),t&&t.setAttribute("aria-hidden","true");var r=document.querySelector(".header__mobile-topbar");r&&window.innerWidth<=991&&(r.style.display="")}})),window.addEventListener("resize",(function(){var t=document.querySelector(".header__mobile-topbar");t&&(window.innerWidth>991?t.style.display="":null!=e&&e.classList.contains("is-sticky")?t.style.display="none":t.style.display="")}));var i=null;function o(){n.forEach((function(e){if(e){e.setAttribute("aria-expanded","false"),e.classList.remove("active");var t=e.getAttribute("aria-controls");if(t){var n=document.getElementById(t);n&&n.setAttribute("data-open","false");var r=e.closest(".header__menu-item");r&&r.classList.remove("active")}}})),document.body.classList.remove("menu-open"),i=null}function d(e){if(e){o(),e.setAttribute("aria-expanded","true"),e.classList.add("active");var t=e.getAttribute("aria-controls");if(t){var n=document.getElementById(t);if(n){n.setAttribute("data-open","true");var r=e.closest(".header__menu-item");r&&r.classList.add("active"),document.body.classList.add("menu-open"),a()}i=e}}}function c(e){if(i){var t=i.getAttribute("aria-controls");if(t){var n=document.getElementById(t);if(n){var r,a=n.querySelector('.megamenu__tab-panel[aria-hidden="false"]');if((r=a?a.querySelectorAll("a, button, [tabindex='0']"):n.querySelectorAll("a, button, [tabindex='0']")).length){var d=r[0],c=r[r.length-1];if("Escape"===e.key)return o(),void i.focus();if("Tab"===e.key){if(e.shiftKey&&document.activeElement===d)return e.preventDefault(),void i.focus();if(!e.shiftKey&&document.activeElement===c)return e.preventDefault(),void i.focus()}}}}}}n.forEach((function(e){e&&(e.addEventListener("click",(function(t){"true"===e.getAttribute("aria-expanded")?o():d(e),t.stopPropagation()})),e.addEventListener("keydown",(function(t){"ArrowDown"!==t.key&&"Enter"!==t.key&&" "!==t.key||(d(e),t.preventDefault()),"Escape"===t.key&&(o(),e.focus())})))})),r.forEach((function(e){e&&e.addEventListener("keydown",(function(t){var n=Array.from(e.querySelectorAll("a, button, [tabindex='0']")),r=n.indexOf(document.activeElement);if("ArrowDown"===t.key){var a=n[(r+1)%n.length];a&&a.focus(),t.preventDefault()}if("ArrowUp"===t.key){var d=n[(r-1+n.length)%n.length];d&&d.focus(),t.preventDefault()}"Escape"===t.key&&(o(),i&&i.focus())}))})),document.addEventListener("mousedown",(function(t){e&&!e.contains(t.target)&&o()})),document.addEventListener("focusin",(function(t){e&&!e.contains(t.target)&&o()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&o()})),r.forEach((function(e){e&&e.addEventListener("keydown",c)}));var u=document.querySelector(".header__top-lang");if(u){u.addEventListener("click",(function(e){var t=this.nextElementSibling;if(t){var n="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!n),t.hidden=n}}));var l=document.querySelector(".header__top-lang-dropdown");l&&l.addEventListener("keydown",(function(e){if("Escape"===e.key){var t=this.querySelector(".header__top-lang-list"),n=this.querySelector(".header__top-lang");t&&(t.hidden=!0),n&&(n.setAttribute("aria-expanded","false"),n.focus())}}))}document.addEventListener("click",(function(e){var t=document.querySelector(".header__top-lang-dropdown");if(t&&!t.contains(e.target)){var n=document.querySelector(".header__top-lang-list"),r=document.querySelector(".header__top-lang");n&&(n.hidden=!0),r&&r.setAttribute("aria-expanded",!1)}}));var s=document.getElementById("mobile-menu-btn"),f=document.getElementById("mobile-search-btn"),m=document.getElementById("mobile-menu-overlay"),v=document.getElementById("mobile-search-overlay"),y=[m,v].filter(Boolean);function h(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}function b(e,t){if(e&&"mobile-lang-btn"!==e.id){var n=e.querySelector("img");n&&("close"===t?(n.src="../images/close.svg",n.alt="close",e.setAttribute("aria-label","Close")):"menu"===t?(n.src="../images/three-dots-vertical.svg",n.alt="",e.setAttribute("aria-label","Open menu")):"search"===t?(n.src="../images/search.svg",n.alt="",e.setAttribute("aria-label","Open search")):"lang"===t&&(n.src="../images/globe.svg",n.alt="",e.setAttribute("aria-label","Change language")))}}function g(){y.forEach((function(e){e&&(e.hidden=!0,e.setAttribute("aria-hidden","true"),e._trapFocus&&e.removeEventListener("keydown",e._trapFocus),e._escClose&&e.removeEventListener("keydown",e._escClose),e.querySelectorAll("a, button, input").forEach((function(e){"BUTTON"===e.tagName&&e.classList.contains("header__mobile-close")||e.setAttribute("tabindex","-1")})))})),s&&b(s,"menu"),f&&b(f,"search"),E&&b(E,"lang"),E&&E.setAttribute("aria-expanded","false"),h(!1)}s&&m&&s.addEventListener("click",(function(){!1===m.hidden?(m.hidden=!0,b(s,"menu")):(g(),m.hidden=!1,b(s,"close"),L(),m.focus())})),f&&v&&f.addEventListener("click",(function(){!1===v.hidden?(v.hidden=!0,b(f,"search")):(g(),v.hidden=!1,b(f,"close"),L(),v.focus())}));var E=document.getElementById("mobile-lang-btn"),p=document.getElementById("mobile-lang-list");function g(){m&&(m.hidden=!0),v&&(v.hidden=!0),p&&(p.hidden=!0),s&&b(s,"menu"),f&&b(f,"search"),E&&b(E,"lang"),E&&E.setAttribute("aria-expanded","false"),h(!1)}E&&p&&(E.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),p.hidden=t,e.stopPropagation()})),document.addEventListener("mousedown",(function(e){E.contains(e.target)||p.contains(e.target)||(E.setAttribute("aria-expanded","false"),p.hidden=!0)})),document.addEventListener("focusin",(function(e){E.contains(e.target)||p.contains(e.target)||(E.setAttribute("aria-expanded","false"),p.hidden=!0)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(E.setAttribute("aria-expanded","false"),p.hidden=!0,E.focus())}))),document.addEventListener("mousedown",(function(e){null!=s&&s.contains(e.target)||null!=m&&m.contains(e.target)||null!=f&&f.contains(e.target)||null!=v&&v.contains(e.target)||null!=E&&E.contains(e.target)||null!=p&&p.contains(e.target)||g()})),document.addEventListener("focusin",(function(e){null!=s&&s.contains(e.target)||null!=m&&m.contains(e.target)||null!=f&&f.contains(e.target)||null!=v&&v.contains(e.target)||null!=E&&E.contains(e.target)||null!=p&&p.contains(e.target)||g()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&g()})),document.querySelectorAll(".mobile-nav-section").forEach((function(e){e&&(e.addEventListener("click",(function(){var e="true"===this.getAttribute("aria-expanded");if(document.querySelectorAll(".mobile-nav-section").forEach((function(e){if(e){e.setAttribute("aria-expanded","false");var t=document.getElementById(e.getAttribute("aria-controls"));t&&(t.hidden=!0)}})),!e){this.setAttribute("aria-expanded","true");var t=document.getElementById(this.getAttribute("aria-controls"));t&&(t.hidden=!1)}})),e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"Escape"===e.key&&(g(),s&&s.focus())})))})),document.querySelectorAll(".mobile-nav-panel[hidden] a").forEach((function(e){return e&&e.setAttribute("tabindex","-1")})),document.querySelectorAll(".mobile-nav-panel").forEach((function(e){e&&new MutationObserver((function(){e.hidden?e.querySelectorAll("a").forEach((function(e){return e&&e.setAttribute("tabindex","-1")})):e.querySelectorAll("a").forEach((function(e){return e&&e.removeAttribute("tabindex")}))})).observe(e,{attributes:!0,attributeFilter:["hidden"]})}));var A=document.getElementById("mobile-client-btn"),k=document.getElementById("mobile-client-list");if(A&&k){A.addEventListener("click",(function(e){var t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t),k.hidden=t;var n=this.querySelector(".header__mobile-client-arrow");n&&(n.style.transform=t?"rotate(0deg)":"rotate(180deg)"),e.stopPropagation()})),A.addEventListener("keydown",(function(e){if("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click()),"ArrowDown"===e.key&&(e.preventDefault(),!k.hidden)){var t=k.querySelector("button[role='option']");t&&t.focus()}"Escape"===e.key&&(this.setAttribute("aria-expanded",!1),k.hidden=!0,this.focus())}));var _=k.querySelectorAll("button[role='option']");_.forEach((function(e,t){e&&(e.addEventListener("keydown",(function(e){"ArrowDown"===e.key&&(e.preventDefault(),t<_.length-1?_[t+1].focus():_[0].focus()),"ArrowUp"===e.key&&(e.preventDefault(),t>0?_[t-1].focus():_[_.length-1].focus()),"Escape"===e.key&&(A.setAttribute("aria-expanded",!1),k.hidden=!0,A.focus())})),e.addEventListener("click",(function(){A.setAttribute("aria-expanded",!1),k.hidden=!0,A.focus()})))})),document.addEventListener("mousedown",(function(e){if(!A.contains(e.target)&&!k.contains(e.target)){A.setAttribute("aria-expanded",!1),k.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("focusin",(function(e){if(!A.contains(e.target)&&!k.contains(e.target)){A.setAttribute("aria-expanded",!1),k.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}})),document.addEventListener("keydown",(function(e){if("Escape"===e.key){A.setAttribute("aria-expanded",!1),k.hidden=!0;var t=A.querySelector(".header__mobile-client-arrow");t&&(t.style.transform="rotate(0deg)")}}))}function L(){var e=document.querySelector(".header__mobile"),t=document.querySelectorAll(".header__mobile-overlay");if(e&&t.length){var n=e.getBoundingClientRect().height;t.forEach((function(e){if(e){e.style.top=n+"px";var t=e.querySelector(".mobile-nav");if(t){var r=window.innerHeight;t.style.height="".concat(r-n,"px")}}}))}}window.addEventListener("resize",L),window.addEventListener("scroll",L),document.addEventListener("DOMContentLoaded",L),window.addEventListener("scroll",(function(){L()}))}()}))})();